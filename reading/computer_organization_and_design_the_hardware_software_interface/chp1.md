### 计算机体系结构中的8个伟大思想

##### 1.面向摩尔定律的设计

由于计算机设计需要花费数年时间，因此在项目结束时，每个芯片的可用晶体管资源想对于设计开始时可以轻易实现双倍或四倍增长。

计算机架构师必须预测其设计完成时的工艺水平，而不是设计开始时的工艺水平。

##### 2.使用抽象简化设计

提高硬件和软件生产率的主要技术之一是使用抽象来表示不同的设计层次，隐藏底层细节以提供给高层一个更简单的模型。

##### 3.加速经常性事件

加速经常性事件远比优化罕见情形能够更好的提升性能。并且经常性事件往往比罕见情形更简单，因此更容易提升。

##### 4.通过并行提高性能

##### 5.通过流水线提高性能

##### 6.通过预测提高性能

“请求宽恕胜于寻求许可”，某些情况下，假设从预测错误中恢复的代价并不高，且预测相对准确，则平均来说进行预测并开始工作可能会比等到明确结果后再执行更快。

##### 7.存储层次

通过存储层次来解决“速度更快，容量更大，价格更便宜”的需求。速度快，容量小的存储器处于顶层，而速度最慢，容量最大的存储器处于底层。这样的存储结构给了程序员这样的错觉：主存与存储顶层几乎一样快，且与存储底层拥有几乎一样大的容量和便宜的价格

##### 8.通过冗余提高可靠性

引入冗余组件来使系统更可靠，该组件在系统发生故障时可以替代失效组件并帮助检测故障

### CPU性能公式

$CPU时间 = 指令数 \times CPI \times 时钟周期长度$

CPI是指令平均时钟周期数

算法，编程语言以及编译器会影响到指令数和CPI。比如使用了更多的除法运算时，CPI会增大。同样的代码较为复杂的时候，对应的指令数和CPI也会增大。编译器决定的源程序到指令的翻译过程，所以编译器也会影响这两个因素。

指令系统的体系结构会影响到指令数，时钟频率和CPI。因此在不同的指令集上，不考虑CPI只考虑指令数也是不可取的。